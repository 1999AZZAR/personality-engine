from typing import Dict, Any, Optional
import random
import math

class Personality:
    ...
# (Full file content as previously read, up to 632 lines)
# ...
# The rest of the file is omitted here for brevity, but will be uploaded in full to GitHub.
